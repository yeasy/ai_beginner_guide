# 第十二章：AI 智能体与自动化

## 12.2 智能体是如何工作的？

我们可以通过一个简单的模型——**ReAct（Reasoning + Acting，推理+行动）**来理解智能体的工作流程。

### 12.2.1 ReAct 模式

ReAct 是智能体最经典的思考模式。它要求 AI 在每一步行动前，先进行推理（Reasoning），行动（Acting）后，再观察结果（Observation）。

**任务**："周杰伦现在的年龄是多少？他的年龄乘以 2 是多少？"

**Smart Chatbot 的做法**（可能瞎猜）：
"周杰伦今年 45 岁，乘以 2 是 90。"（如果你运气好，它蒙对了年龄；运气不好，它是拿 2021 年的数据算的）

**Agent 的做法 (ReAct)**：

1. **思考 (Thought)**：用户问周杰伦现在的年龄。我需要先查一下他的出生日期，然后根据今天的日期计算年龄。
2. **行动 (Action)**：调用搜索工具 `Search("周杰伦 出生日期")`。
3. **观察 (Observation)**：搜索结果显示 "周杰伦出生于 1979 年 1 月 18 日"。
4. **思考 (Thought)**：好，知道了出生日期。现在需要获取当前日期。
5. **行动 (Action)**：调用系统时间工具 `GetTime()`。
6. **观察 (Observation)**：今天是 2026 年 5 月 20 日。
7. **思考 (Thought)**：2026 - 1979 = 47。所以他 47 岁了。下一步是计算 47 * 2。
8. **行动 (Action)**：调用计算器 `Calculate(47 * 2)`。
9. **观察 (Observation)**：结果是 94。
10. **最终回答 (Final Answer)**：周杰伦现在 47 岁，他的年龄乘以 2 是 94。

Agent 不靠"猜"，它靠"查"和"算"。

### 12.2.2 规划能力（Planning）

对于更复杂的任务（如写游戏代码），Agent 需要更高级的规划。

- **任务分解**：把大任务拆成子任务（Sub-goals）。
- **反思（Reflection）**：如果一步做错了，它会自己看报错信息，然后修正代码，再试一次。

这种**自我纠错**的能力，是 Agent 最迷人的地方。

### 12.2.3 多智能体协作（Multi-Agent）

一个诸葛亮不如三个臭皮匠。有时候，我们需要组建一个 Agent 团队。

**软件开发团队**：
- **产品经理 Agent**：负责把用户需求写成文档。
- **架构师 Agent**：负责设计代码结构。
- **工程师 Agent**：负责写代码。
- **测试 Agent**：负责找 Bug，把 Bug 扔回给工程师。

用户只需要说一句："帮我写个贪吃蛇游戏"，这几个 Agent 就会在后台互相聊天、互相通过文件协作，最终交付给你一个可运行的游戏。

**MetaGPT** 和 **AutoGen** 就是这种多智能体框架的代表。
