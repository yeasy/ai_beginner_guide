# 第十章：提示词工程进阶

## 10.2 结构化输出：让 AI 生成表格与代码

有时候，我们不想要一大段文字，而是想要能直接复制到 Excel 的表格，或者能直接运行的代码。这就涉及**结构化输出**。

### 10.2.1 为什么需要结构化？

AI 默认喜欢像人一样说话，但这在处理数据时很麻烦。

- **非结构化**："这个手机屏幕 6.1 寸，价格 5999，哦对了它只有 128G 内存..." -> 很难整理。
- **结构化**：`{ "型号": "iPhone", "屏幕": "6.1", "价格": 5999 }` -> 电脑可以直接读取。

### 10.2.2 生成 Markdown 表格

这是最常用的技巧，适合整理数据对比。

**提示词模板**：
> "请对比 iPhone 15、三星 S24 和小米 14 的参数。
> **请使用 Markdown 表格形式输出**。
> 表头包括：型号、处理器、屏幕尺寸、电池容量、起售价。"

AI 会直接给你一个漂亮的表格，你可以直接复制粘贴到 Notion、飞书或网页中。

### 10.2.3 生成 JSON/CSV 格式

如果你是程序员或数据分析师，你需要这种格式。

**提示词模板**：
> "请生成 5 个虚拟的用户数据。
> 包含字段：姓名、年龄（18-30岁）、职业、邮箱。
> **请严格输出为 JSON 格式，不要包含任何其他解释性文字。**"

**输出示例**：
```json
[
  { "name": "张伟", "age": 25, "job": "设计师", "email": "zhangw@example.com" },
  ...
]
```

**CSV 格式**同理，可以直接存为 `.csv` 文件用 Excel 打开。

### 10.2.4 生成代码

现在的 AI 都是顶级程序员。

**提示词技巧**：
1. **指定语言**："用 Python 写..."
2. **指定库**："使用 Pandas 库..."
3. **加注释**："请在关键逻辑处添加中文注释。"

**案例**：
> "我就像个 Python 小白。请帮我写一段代码，能够批量把文件夹里的所有 `.jpg` 图片的大小压缩到原来的 50%。每行代码都要加注释解释它是干嘛的。"

### 10.2.5 提取信息的结构化

除了生成，提取信息也很强。

**场景**：你有一段乱糟糟的会议记录，想提取待办事项。

**提示词**：
> "阅读下面的会议记录，提取所有待办事项（Action Items）。
> **输出格式要求**：使用 Markdown 表格，列分别为'任务内容'、'负责人'、'截止时间'。如果没有提到截止时间，填'待定'。"

**小结**：只要你敢要求格式，AI 就能变得极其条理清晰。不要容忍混乱的文本，命令它整理！
